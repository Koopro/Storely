<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
</head>
<body>

<div class="container mt-5">
    <div class="row">
        <div class="col-md-3">
            <div class="sticky-top">
                <ul class="nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="#authentication">Authentication</a></li>
                    <li class="nav-item"><a class="nav-link" href="#users">Users</a></li>
                    <li class="nav-item"><a class="nav-link" href="#profiles">Profiles</a></li>
                    <li class="nav-item"><a class="nav-link" href="#security-authentication">Security & Authentication</a></li>
                </ul>
            </div>
        </div>
        <div class="col-md-9">
            <h1>API Documentation</h1>
            <p>This document outlines the usage of the API endpoints.</p>

            <section id="authentication">
                <h2>Authentication</h2>
                <div id="collapseAuthentication" class="collapse show" aria-labelledby="headingOne">
                    <p>Details about authentication methods and how to obtain access tokens for secured endpoints.</p>
                    <div class="api-endpoint">
                        <h3>POST /api/register</h3>
                        <p>Registers a new user. Requires JSON payload with user details.</p>
<pre><code class="json">{
   "email": "newuser@example.com",
   "password": "newpassword",
   "name": "John",
   "lastname": "Doe",
   "username": "johndoe",
   "role": "user"
}</code></pre>
                    </div>
                    <div class="api-endpoint">
                        <h3>GET /api/verify-email</h3>
                        <p>Verifies user's email address using a token sent via email.</p>
                    </div>
                    <div class="api-endpoint">
                        <h3>POST /api/login</h3>
                        <p>Logs in a user. Requires email and password in the JSON payload.</p>
<pre><code class="json">{
   "email": "user@example.com",
   "password": "password"
}</code></pre>
                    </div>
                </div>
            </section>

            <section id="users">
                <h2>Users</h2>
                <div class="api-endpoint">
                    <h3>GET /api/admin/data</h3>
                    <p>Fetches all users (admin only). Requires authentication and admin role.</p>
                    <p><strong>Middleware:</strong> authMiddleware, adminMiddleware</p>
                </div>
            </section>

            <section id="profiles">
                <h2>User Profiles</h2>
                <div class="api-endpoint">
                    <h3>POST /api/uploadProfileImage</h3>
                    <p>Uploads a profile image. Requires authentication.</p>
                    <p><strong>Middleware:</strong> authMiddleware</p>
                </div>
                <div class="api-endpoint">
                    <h3>POST /api/updateStatus</h3>
                    <p>Updates the user's status. Requires authentication.</p>
                    <p><strong>Middleware:</strong> authMiddleware</p>
                    <p><strong>Payload:</strong> {"status": "online/offline/disturb/away"}</p>
                </div>
            </section>
<section id="security-authentication">
    <h2>Security and Authentication</h2>
    <p>To use our API, an API key is required with each request. The API key must be included in the request header as 'X-API-KEY'.</p>
<pre><code class="plaintext">GET /api/resource
Header: X-API-KEY: YourApiKeyHere
</code></pre>
    <p>If you do not have an API key or if your key is invalid or missing, requests to the API will be rejected.</p>
</section>

        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

</body>
</html>
